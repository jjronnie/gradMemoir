import{_ as S}from"./ShareButton.vue_vue_type_script_setup_true_lang-CTqKUaYi.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang--CnlkcD7.js";import{_ as I}from"./PublicLayout.vue_vue_type_script_setup_true_lang-BRU_CWvT.js";import{d as V,g,A as B,c as a,a as i,u as c,h as T,w as d,b as t,t as u,o as r,f as m,F as k,r as j,p as x,l as h,e as w,x as U,i as A,B as E}from"./app-DW2KkjvG.js";import"./FlashMessages.vue_vue_type_script_setup_true_lang-DzlBP8Dr.js";import"./index-DDc9h_z2.js";import"./index-BafghysU.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-CGOEXzev.js";import"./useForwardPropsEmits-Dt7zh49w.js";import"./RovingFocusGroup-DlkB2bT6.js";import"./useForwardExpose-Bu8G4Clg.js";import"./createLucideIcon-DK4FZEuV.js";import"./index-ueziRkVZ.js";const F={class:"py-10"},O={class:"mx-auto mt-6 max-w-4xl text-center text-4xl font-semibold tracking-wide text-foreground sm:text-5xl"},P={class:"mx-auto mt-6 grid w-[90%] grid-cols-1 gap-2 text-center text-sm text-muted-foreground md:grid-cols-3"},z={class:"font-medium"},D={class:"font-medium"},H={class:"font-medium"},K={key:0,class:"mt-4 text-center text-sm text-muted-foreground"},L={class:"mx-auto mt-5 flex w-[90%] items-center gap-3"},M={key:0,class:"w-full max-w-md"},q={class:"grid grid-cols-2 gap-x-5 gap-y-8 py-10 sm:grid-cols-3 lg:grid-cols-4"},G={class:"overflow-hidden border border-border bg-card"},J=["src","alt"],Q={key:1,class:"flex aspect-[3/4] w-full items-center justify-center bg-muted text-muted-foreground"},R={class:"mt-3 truncate text-center text-sm font-semibold uppercase"},W={key:0,class:"col-span-full text-center text-sm text-muted-foreground"},X={class:"flex items-center justify-between pb-10"},Z={key:1},fe=V({__name:"Show",props:{courseYear:{},students:{},search:{}},setup(s){const l=s,b=g(""),f=g(l.search),v=g(l.search.trim()!==""),$=U(()=>`${l.courseYear.course.short_name.toUpperCase()} Class of ${l.courseYear.year}`),y=`course-student-search-${l.courseYear.id}`;let p=null;const _=n=>{const e=n.media?.[0]?.conversions?.full??n.media?.[0]?.conversions?.thumb??n.media?.[0]?.original_url??null;return e===null||e.trim()===""?null:e},Y=()=>{p!==null&&clearTimeout(p),p=setTimeout(()=>{A.get(`/${l.courseYear.slug}`,{search:f.value},{preserveScroll:!0,preserveState:!0})},350)},N=async()=>{v.value=!0,await E(),document.getElementById(y)?.focus()};return B(()=>{b.value=window.location.href}),(n,e)=>(r(),a(k,null,[i(c(T),{title:`${s.courseYear.course.name} - ${n.$page.props.appName}`},null,8,["title"]),i(I,null,{default:d(()=>[t("section",F,[e[2]||(e[2]=t("div",{class:"mx-auto w-[90%] space-y-2"},[t("div",{class:"h-px bg-border"}),t("div",{class:"h-px bg-border/70"})],-1)),t("h1",O,u($.value),1),e[3]||(e[3]=t("div",{class:"mx-auto mt-6 h-px w-[90%] bg-border"},null,-1)),t("div",P,[t("p",z,u(s.courseYear.course.university?.name),1),t("p",D,u(s.courseYear.course.name),1),t("p",H,u(s.courseYear.year),1)]),s.courseYear.course.nickname?(r(),a("p",K," AKA: "+u(s.courseYear.course.nickname),1)):m("",!0),t("div",L,[t("button",{type:"button",class:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-border bg-background text-foreground transition hover:bg-accent","aria-label":"Open student search",onClick:N},[...e[1]||(e[1]=[t("i",{class:"fa-solid fa-magnifying-glass text-sm"},null,-1)])]),v.value?(r(),a("div",M,[i(c(C),{id:y,modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),placeholder:"Search by name or username...",onInput:Y},null,8,["modelValue"])])):m("",!0)])]),t("section",q,[(r(!0),a(k,null,j(s.students.data,o=>(r(),x(c(h),{key:o.id,href:`/@${o.username}`,class:"group block"},{default:d(()=>[t("div",G,[_(o)?(r(),a("img",{key:0,src:_(o)??"",alt:o.name,class:"aspect-[3/4] w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]",loading:"lazy"},null,8,J)):(r(),a("div",Q,[...e[4]||(e[4]=[t("i",{class:"fa-solid fa-user text-4xl"},null,-1)])]))]),t("p",R,u(o.name),1)]),_:2},1032,["href"]))),128)),s.students.data.length===0?(r(),a("p",W," No results ")):m("",!0)]),t("section",X,[s.students.prev_page_url?(r(),x(c(h),{key:0,href:s.students.prev_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:d(()=>[...e[5]||(e[5]=[w("Previous",-1)])]),_:1},8,["href"])):(r(),a("div",Z)),s.students.next_page_url?(r(),x(c(h),{key:2,href:s.students.next_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:d(()=>[...e[6]||(e[6]=[w("Next",-1)])]),_:1},8,["href"])):m("",!0)]),i(S,{url:b.value,title:`${s.courseYear.course.name} Class of ${s.courseYear.year} - ${n.$page.props.appName}`},null,8,["url","title"])]),_:1})],64))}});export{fe as default};
