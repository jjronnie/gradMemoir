import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-CDABBYxE.js";import{_ as N}from"./TextLink.vue_vue_type_script_setup_true_lang-B_Ot5XbJ.js";import{_ as S,u as V}from"./useTurnstile-B5YUooZf.js";import{_ as j}from"./index-CA47rZK0.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-F-YZz48X.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-DrTJ-4Ug.js";import{_ as C}from"./Spinner.vue_vue_type_script_setup_true_lang-C-4_B2-g.js";import{_ as B}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CMDjeMtI.js";import{q as T,l as F}from"./index-Dgh_0kKE.js";import{r as R}from"./index-Bgqz4nr6.js";import{d as A,p as c,w as n,a as o,u as s,h as G,J as H,K as I,b as t,o as w,f as _,t as O,e as l,y as k,g as h,n as W,A as z}from"./app-B60bE2S9.js";import"./index-Dozy9M6q.js";import"./index-D6K6W84X.js";import"./useForwardExpose-D7cYcgM3.js";import"./createLucideIcon-BUS-FCFR.js";const a=r=>({url:a.url(r),method:"post"});a.definition={methods:["post"],url:"/register"};a.url=r=>a.definition.url+T(r);a.post=r=>({url:a.url(r),method:"post"});const $=r=>({action:a.url(r),method:"post"});$.post=r=>({action:a.url(r),method:"post"});a.form=$;Object.assign(a,a);const D=["disabled"],J={class:"grid gap-6"},K={class:"grid gap-2"},L={class:"grid gap-2"},M={class:"grid gap-2"},Q={class:"relative"},U=["aria-label"],X={class:"grid gap-2"},Y={class:"relative"},Z=["aria-label"],ee={class:"text-center text-sm text-muted-foreground"},xe=A({__name:"Register",setup(r){const P=z(),u=h(!1),m=h(!1),f=h(!1),v=W(()=>!!P.props.turnstileEnabled),p=V(),q=()=>{u.value||(u.value=!0,window.location.assign(R.url()))},E=()=>{v.value&&p.reset()};return(se,e)=>(w(),c(B,{title:"Create an account",description:"Enter your details below to create your account"},{default:n(()=>[o(s(G),{title:"Register"}),o(s(H),I(s(a).form(),{"reset-on-success":["password","password_confirmation"],transform:i=>({...i,"cf-turnstile-response":s(p).token.value}),onFinish:E,class:"flex flex-col gap-6"}),{default:n(({errors:i,processing:y})=>[t("button",{type:"button",class:"inline-flex w-full items-center justify-center gap-2 rounded-md border border-border px-4 py-2 text-sm font-medium hover:bg-accent",disabled:y||u.value,onClick:q},[e[5]||(e[5]=t("i",{class:"fa-brands fa-google"},null,-1)),u.value?(w(),c(s(C),{key:0})):_("",!0),t("span",null,O(u.value?"Processing...":"Sign in with Google"),1)],8,D),e[13]||(e[13]=t("div",{class:"flex items-center gap-3 text-xs text-muted-foreground"},[t("span",{class:"h-px flex-1 bg-border"}),l(" OR "),t("span",{class:"h-px flex-1 bg-border"})],-1)),e[14]||(e[14]=t("p",{class:"text-center text-sm text-muted-foreground"}," Enter your details below to create your account ",-1)),t("div",J,[t("div",K,[o(s(b),{for:"name"},{default:n(()=>[...e[6]||(e[6]=[l("Name",-1)])]),_:1}),o(s(x),{id:"name",type:"text",required:"",autofocus:"",tabindex:1,autocomplete:"name",name:"name",placeholder:"Full name"}),o(g,{message:i.name},null,8,["message"])]),t("div",L,[o(s(b),{for:"email"},{default:n(()=>[...e[7]||(e[7]=[l("Email address",-1)])]),_:1}),o(s(x),{id:"email",type:"email",required:"",tabindex:2,autocomplete:"email",name:"email",placeholder:"email@example.com"}),o(g,{message:i.email},null,8,["message"])]),t("div",M,[o(s(b),{for:"password"},{default:n(()=>[...e[8]||(e[8]=[l("Password",-1)])]),_:1}),t("div",Q,[o(s(x),{id:"password",type:m.value?"text":"password",required:"",tabindex:3,autocomplete:"new-password",name:"password",placeholder:"Password",class:"pr-10"},null,8,["type"]),t("button",{type:"button",class:"absolute inset-y-0 right-0 inline-flex w-10 items-center justify-center text-muted-foreground hover:text-foreground","aria-label":m.value?"Hide password":"Show password",onClick:e[0]||(e[0]=d=>m.value=!m.value)},[t("i",{class:k(m.value?"fa-regular fa-eye-slash":"fa-regular fa-eye")},null,2)],8,U)]),o(g,{message:i.password},null,8,["message"])]),t("div",X,[o(s(b),{for:"password_confirmation"},{default:n(()=>[...e[9]||(e[9]=[l("Confirm password",-1)])]),_:1}),t("div",Y,[o(s(x),{id:"password_confirmation",type:f.value?"text":"password",required:"",tabindex:4,autocomplete:"new-password",name:"password_confirmation",placeholder:"Confirm password",class:"pr-10"},null,8,["type"]),t("button",{type:"button",class:"absolute inset-y-0 right-0 inline-flex w-10 items-center justify-center text-muted-foreground hover:text-foreground","aria-label":f.value?"Hide password confirmation":"Show password confirmation",onClick:e[1]||(e[1]=d=>f.value=!f.value)},[t("i",{class:k(f.value?"fa-regular fa-eye-slash":"fa-regular fa-eye")},null,2)],8,Z)]),o(g,{message:i.password_confirmation},null,8,["message"])]),v.value?(w(),c(S,{key:0,onVerified:e[2]||(e[2]=d=>s(p).setToken(d)),onExpired:e[3]||(e[3]=d=>s(p).reset()),onWidgetMounted:e[4]||(e[4]=d=>s(p).setWidgetId(d))})):_("",!0),v.value?(w(),c(g,{key:1,message:i["cf-turnstile-response"]},null,8,["message"])):_("",!0),o(s(j),{type:"submit",class:"mt-2 w-full",tabindex:"5",disabled:y,"data-test":"register-user-button"},{default:n(()=>[y?(w(),c(s(C),{key:0})):_("",!0),e[10]||(e[10]=l(" Create account ",-1))]),_:2},1032,["disabled"])]),t("div",ee,[e[12]||(e[12]=l(" Already have an account? ",-1)),o(N,{href:s(F)(),class:"underline underline-offset-4",tabindex:6},{default:n(()=>[...e[11]||(e[11]=[l("Log in",-1)])]),_:1},8,["href"])])]),_:1},16,["transform"])]),_:1}))}});export{xe as default};
