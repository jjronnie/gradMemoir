import{_ as S}from"./ShareButton.vue_vue_type_script_setup_true_lang-Dx8gy14F.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-6eVTzFlU.js";import{_ as I}from"./PublicLayout.vue_vue_type_script_setup_true_lang-DefDETTI.js";import{d as V,g,B,c as n,a as c,u,h as T,w as d,b as e,t as l,o,f as i,F as _,r as j,p as x,l as h,e as k,n as U,i as A,C as E}from"./app-C4RxZQeq.js";import"./index-2UITHzBk.js";import"./index-Cv2cN02m.js";import"./index-CQCdNE30.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-DN7C7JYV.js";const F={class:"py-10"},O={class:"mx-auto mt-6 max-w-4xl text-center text-4xl font-semibold tracking-wide text-foreground sm:text-5xl"},z={class:"mx-auto mt-6 grid w-[90%] grid-cols-1 gap-2 text-center text-sm text-muted-foreground md:grid-cols-3"},D={class:"font-medium"},H={class:"font-medium"},K={class:"font-medium"},L={key:0,class:"mt-4 text-center text-sm text-muted-foreground"},M={class:"mx-auto mt-5 flex w-[90%] items-center gap-3"},P={key:0,class:"w-full max-w-md"},q={class:"grid grid-cols-2 gap-x-5 gap-y-8 py-10 sm:grid-cols-3 lg:grid-cols-4"},G={class:"overflow-hidden border border-border bg-card"},J=["src","alt"],Q={class:"mt-3 truncate text-center text-sm font-semibold uppercase"},R={key:0,class:"col-span-full text-center text-sm text-muted-foreground"},W={class:"flex items-center justify-between pb-10"},X={key:1},ne=V({__name:"Show",props:{course:{},students:{},search:{}},setup(t){const a=t,b=g(""),m=g(a.search),v=g(a.search.trim()!==""),w=U(()=>`${a.course.short_name.toUpperCase()} Class of ${a.course.year}`),y=`course-student-search-${a.course.id}`;let f=null;const $=()=>{f!==null&&clearTimeout(f),f=setTimeout(()=>{A.get(`/courses/${a.course.slug}`,{search:m.value},{preserveScroll:!0,preserveState:!0})},350)},N=async()=>{v.value=!0,await E(),document.getElementById(y)?.focus()};return B(()=>{b.value=window.location.href}),(p,s)=>(o(),n(_,null,[c(u(T),{title:`${t.course.name} - ${p.$page.props.appName}`},null,8,["title"]),c(I,null,{default:d(()=>[e("section",F,[s[2]||(s[2]=e("div",{class:"mx-auto w-[90%] space-y-2"},[e("div",{class:"h-px bg-border"}),e("div",{class:"h-px bg-border/70"})],-1)),e("h1",O,l(w.value),1),s[3]||(s[3]=e("div",{class:"mx-auto mt-6 h-px w-[90%] bg-border"},null,-1)),e("div",z,[e("p",D,l(t.course.university?.name),1),e("p",H,l(t.course.name),1),e("p",K,l(t.course.year),1)]),t.course.nickname?(o(),n("p",L," AKA: "+l(t.course.nickname),1)):i("",!0),e("div",M,[e("button",{type:"button",class:"inline-flex h-10 w-10 items-center justify-center rounded-md border border-border bg-background text-foreground transition hover:bg-accent","aria-label":"Open student search",onClick:N},[...s[1]||(s[1]=[e("i",{class:"fa-solid fa-magnifying-glass text-sm"},null,-1)])]),v.value?(o(),n("div",P,[c(u(C),{id:y,modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=r=>m.value=r),placeholder:"Search by name or username...",onInput:$},null,8,["modelValue"])])):i("",!0)])]),e("section",q,[(o(!0),n(_,null,j(t.students.data,r=>(o(),x(u(h),{key:r.id,href:`/@${r.username}`,class:"group block"},{default:d(()=>[e("div",G,[e("img",{src:r.media?.[0]?.conversions?.full??r.media?.[0]?.conversions?.thumb??r.media?.[0]?.original_url??"",alt:r.name,class:"aspect-[3/4] w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]",loading:"lazy"},null,8,J)]),e("p",Q,l(r.name),1)]),_:2},1032,["href"]))),128)),t.students.data.length===0?(o(),n("p",R," No results ")):i("",!0)]),e("section",W,[t.students.prev_page_url?(o(),x(u(h),{key:0,href:t.students.prev_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:d(()=>[...s[4]||(s[4]=[k("Previous",-1)])]),_:1},8,["href"])):(o(),n("div",X)),t.students.next_page_url?(o(),x(u(h),{key:2,href:t.students.next_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:d(()=>[...s[5]||(s[5]=[k("Next",-1)])]),_:1},8,["href"])):i("",!0)]),c(S,{url:b.value,title:`${t.course.name} - ${p.$page.props.appName}`},null,8,["url","title"])]),_:1})],64))}});export{ne as default};
