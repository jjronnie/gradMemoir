import{d as w,B as v,c as p,b as f,g as a,n as d,A as m,o as _}from"./app-B60bE2S9.js";const g={class:"flex w-full justify-center overflow-x-auto"},x=w({__name:"TurnstileWidget",emits:["verified","expired","widget-mounted"],setup(o,{emit:e}){const t=e,r=m(),n=a(null),s=d(()=>!!r.props.turnstileEnabled),u=d(()=>r.props.turnstileSiteKey??""),c=async()=>{let i=0;for(;window.turnstile===void 0&&i<40;)await new Promise(l=>setTimeout(l,50)),i+=1};return v(async()=>{if(!s.value||u.value===""||n.value===null||(await c(),window.turnstile===void 0||n.value===null))return;const i=window.turnstile.render(n.value,{sitekey:u.value,callback:l=>{t("verified",l)},"expired-callback":()=>{t("expired")},"error-callback":()=>{t("expired")},theme:"auto"});t("widget-mounted",i)}),(i,l)=>(_(),p("div",g,[f("div",{ref_key:"container",ref:n},null,512)]))}});function y(){const o=a(""),e=a(null);return{token:o,widgetId:e,setToken:s=>{o.value=s},setWidgetId:s=>{e.value=s},reset:()=>{e.value!==null&&window.turnstile!==void 0&&window.turnstile.reset(e.value),o.value=""}}}export{x as _,y as u};
