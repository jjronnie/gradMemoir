import{d as p,B as v,c as f,b as w,g as a,n as c,A as m,o as _}from"./app-C4RxZQeq.js";const g={class:"flex w-full justify-center overflow-x-auto"},x=p({__name:"TurnstileWidget",emits:["verified","expired","widget-mounted"],setup(r,{emit:t}){const n=t,l=m(),s=a(null),i=c(()=>!!l.props.turnstileEnabled),u=c(()=>l.props.turnstileSiteKey??""),d=async()=>{window.turnstile===void 0&&await new Promise(o=>{const e=document.createElement("script");e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",e.async=!0,e.defer=!0,e.onload=()=>o(),document.head.appendChild(e)})};return v(async()=>{if(!i.value||u.value===""||s.value===null||(await d(),window.turnstile===void 0||s.value===null))return;const o=window.turnstile.render(s.value,{sitekey:u.value,callback:e=>{n("verified",e)},"expired-callback":()=>{n("expired")},"error-callback":()=>{n("expired")},theme:"auto"});n("widget-mounted",o)}),(o,e)=>(_(),f("div",g,[w("div",{ref_key:"container",ref:s},null,512)]))}});function y(){const r=a(""),t=a(null);return{token:r,widgetId:t,setToken:i=>{r.value=i},setWidgetId:i=>{t.value=i},reset:()=>{t.value!==null&&window.turnstile!==void 0&&window.turnstile.reset(t.value),r.value=""}}}export{x as _,y as u};
