import{d as b,j as f,c as a,a as d,u as s,h as g,w as n,b as e,l as x,e as p,m as y,z as _,o as l,F as u,r as h,f as v,t as w}from"./app-a-DHXOwM.js";import{_ as k}from"./InputError.vue_vue_type_script_setup_true_lang-B9GZNRQO.js";import{_ as C}from"./FlashMessages.vue_vue_type_script_setup_true_lang-C874Aq3G.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-CGJuVEXM.js";import"./index-Ct-cmca8.js";import"./index-BAre4RwE.js";import"./RovingFocusGroup-XsV0CvC-.js";import"./useForwardExpose-BrydD-LM.js";import"./createLucideIcon-DRPyjv3y.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-nkoA9ZOP.js";import"./useForwardPropsEmits-CZfNtvzl.js";import"./index-ueziRkVZ.js";import"./VisuallyHidden-CbnLjvn_.js";const B={class:"mx-auto w-full max-w-3xl space-y-5 p-4"},E={class:"flex items-center justify-between gap-2"},N={class:"grid gap-2"},P={key:0,class:"grid grid-cols-2 gap-3 md:grid-cols-4"},S=["src"],H=b({__name:"Edit",props:{post:{}},setup(i){const m=i,o=f({body:m.post.body??""}),c=()=>{o.put(`/posts/${m.post.id}`,{preserveScroll:!0})};return($,t)=>(l(),a(u,null,[d(s(g),{title:"Edit Post"}),d(V,null,{default:n(()=>[e("div",B,[e("div",E,[t[2]||(t[2]=e("h1",{class:"text-2xl font-semibold"},"Edit Post",-1)),d(s(x),{href:"/posts",class:"rounded-md border border-border px-3 py-1.5 text-sm hover:bg-accent"},{default:n(()=>[...t[1]||(t[1]=[p(" Back to Posts ",-1)])]),_:1})]),t[4]||(t[4]=e("p",{class:"text-sm text-muted-foreground"}," Only the post body can be changed. Uploaded photos stay the same. ",-1)),e("div",N,[t[3]||(t[3]=e("label",{for:"post-body",class:"text-sm font-medium"},"Caption",-1)),y(e("textarea",{id:"post-body","onUpdate:modelValue":t[0]||(t[0]=r=>s(o).body=r),rows:"6",class:"rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Write something about this memory..."},null,512),[[_,s(o).body]]),d(k,{message:s(o).errors.body},null,8,["message"])]),i.post.photos.length>0?(l(),a("div",P,[(l(!0),a(u,null,h(i.post.photos,r=>(l(),a("div",{key:r.id,class:"overflow-hidden rounded-md border border-border"},[e("img",{src:r.thumb||r.full||r.url,alt:"Post photo",class:"aspect-[3/4] w-full object-cover",loading:"lazy"},null,8,S)]))),128))])):v("",!0),d(s(C),{disabled:s(o).processing,onClick:c},{default:n(()=>[p(w(s(o).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])])]),_:1})],64))}});export{H as default};
