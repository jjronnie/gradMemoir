import{_ as b}from"./InputError.vue_vue_type_script_setup_true_lang-BPLKD1Dm.js";import{_ as h}from"./LoadingButton.vue_vue_type_script_setup_true_lang-DjIT1RiU.js";import{_ as $}from"./FlashMessages.vue_vue_type_script_setup_true_lang-PotG4pJW.js";import{_ as w,a as C,b as V,c as S,d as k}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-iwhUiGVM.js";import{_ as N}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-nsySvF9s.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-CtAjixml.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-Di941e-c.js";import{d as F,g as x,j as D,c as m,a as l,u as t,h as M,w as n,b as e,t as a,o as p,F as y,r as Y,e as u,f as B,i as E}from"./app-E3YTf7yt.js";import"./Spinner.vue_vue_type_script_setup_true_lang-Bbg7kWqv.js";import"./createLucideIcon-_7rHL1Ii.js";import"./useForwardPropsEmits-CvhGhs2q.js";import"./RovingFocusGroup-DZQQj3FP.js";import"./useForwardExpose-CuNP0nDk.js";import"./index-Bsh4yMy5.js";import"./index-ueziRkVZ.js";import"./index-CMJFxtlV.js";import"./VisuallyHidden-CEC1xI_v.js";const I={class:"mx-auto w-full max-w-5xl space-y-4 p-4"},L={class:"text-2xl font-semibold"},R={class:"text-sm text-muted-foreground"},j={class:"rounded-xl border border-border bg-card"},z={class:"overflow-x-auto"},A={class:"min-w-[940px] w-full text-sm"},J={class:"px-4 py-3"},T={class:"px-4 py-3"},q={class:"px-4 py-3"},G={class:"px-4 py-3"},H={class:"px-4 py-3"},K={class:"px-4 py-3"},O={key:0,class:"space-y-2 text-sm"},P={class:"space-y-2"},_e=F({__name:"Index",props:{courseYear:{},members:{},search:{}},setup(d){const c=x(d.search),o=x(null),i=D({reason:""}),g=()=>{E.get("/course-admin",{search:c.value},{preserveState:!0,preserveScroll:!0,replace:!0})},v=()=>{o.value!==null&&i.post(`/users/${o.value.id}/flag`,{onSuccess:()=>{i.reset()}})};return(W,s)=>(p(),m(y,null,[l(t(M),{title:"Manage Cohort"}),l(U,null,{default:n(()=>[e("div",I,[e("h1",L," Manage "+a(d.courseYear.course.name)+" Class of "+a(d.courseYear.year),1),e("p",R,a(d.courseYear.course.university?.name),1),l(t(_),{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=r=>c.value=r),placeholder:"Search by name, username, or email...",onInput:g},null,8,["modelValue"]),e("div",j,[e("div",z,[e("table",A,[s[12]||(s[12]=e("thead",null,[e("tr",{class:"border-b border-border text-left"},[e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Username"),e("th",{class:"px-4 py-3"},"Email"),e("th",{class:"px-4 py-3"},"Status"),e("th",{class:"px-4 py-3"},"Joined"),e("th",{class:"px-4 py-3"},"Actions")])],-1)),e("tbody",null,[(p(!0),m(y,null,Y(d.members.data,r=>(p(),m("tr",{key:r.id,class:"border-b border-border/60"},[e("td",J,a(r.name),1),e("td",T,"@"+a(r.username),1),e("td",q,a(r.email),1),e("td",G,a(r.status),1),e("td",H,a(new Date(r.created_at).toLocaleDateString()),1),e("td",K,[l(t(w),null,{default:n(()=>[l(t(N),{"as-child":""},{default:n(()=>[l(t($),{size:"sm",variant:"outline",onClick:f=>o.value=r},{default:n(()=>[...s[2]||(s[2]=[e("i",{class:"fa-regular fa-eye"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),l(t(C),{class:"max-h-[88vh] max-w-lg overflow-y-auto"},{default:n(()=>[l(t(V),null,{default:n(()=>[l(t(S),null,{default:n(()=>[...s[3]||(s[3]=[u("Member Details",-1)])]),_:1}),l(t(k),null,{default:n(()=>[...s[4]||(s[4]=[u(" Review profile and optionally flag this user. ",-1)])]),_:1})]),_:1}),o.value?(p(),m("div",O,[e("p",null,[s[5]||(s[5]=e("strong",null,"Name:",-1)),u(" "+a(o.value.name),1)]),e("p",null,[s[6]||(s[6]=e("strong",null,"Username:",-1)),u(" @"+a(o.value.username),1)]),e("p",null,[s[7]||(s[7]=e("strong",null,"Email:",-1)),u(" "+a(o.value.email),1)]),e("p",null,[s[8]||(s[8]=e("strong",null,"University:",-1)),u(" "+a(o.value.university?.name),1)]),e("p",null,[s[9]||(s[9]=e("strong",null,"Course:",-1)),u(" "+a(o.value.course?.name),1)]),e("p",null,[s[10]||(s[10]=e("strong",null,"Cohort:",-1)),u(" Class of "+a(o.value.course_year?.year??"â€”"),1)])])):B("",!0),e("div",P,[l(t(_),{modelValue:t(i).reason,"onUpdate:modelValue":s[1]||(s[1]=f=>t(i).reason=f),placeholder:"Reason for flag (min 10 characters)"},null,8,["modelValue"]),l(b,{message:t(i).errors.reason},null,8,["message"]),l(h,{type:"button",loading:t(i).processing,"loading-text":"Submitting...",onClick:v},{default:n(()=>[...s[11]||(s[11]=[u(" Flag User ",-1)])]),_:1},8,["loading"])])]),_:1})]),_:2},1024)])]))),128))])])])])])]),_:1})],64))}});export{_e as default};
