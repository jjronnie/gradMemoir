import{d as k,j as C,c as m,a,u as s,h as c,w as i,b as t,k as S,e as d,m as v,o as u,F as _,r as y,t as p,v as b,n as w}from"./app-Xw8PJXQX.js";import{_ as n}from"./InputError.vue_vue_type_script_setup_true_lang-LEFJ3YZP.js";import{_ as N}from"./LoadingButton.vue_vue_type_script_setup_true_lang-CFsavXG6.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-Bp2HSOOx.js";import{_ as l}from"./Label.vue_vue_type_script_setup_true_lang-Do0tOrF7.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-D60ySLUZ.js";import"./FlashMessages.vue_vue_type_script_setup_true_lang-Bfj-M2-J.js";import"./Spinner.vue_vue_type_script_setup_true_lang-DhH_KxvP.js";import"./createLucideIcon-Dqvgc3pD.js";import"./index-CPB1U3Gd.js";import"./index-DRPMKLPy.js";import"./useForwardExpose-B_D4EoIC.js";import"./RovingFocusGroup-BAQMVA2P.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-ghQ8lCcE.js";import"./useForwardPropsEmits-C8m6eQjK.js";import"./index-ueziRkVZ.js";import"./VisuallyHidden-Cm9f6LED.js";const $={class:"mx-auto max-w-2xl space-y-4 p-4"},B={class:"grid gap-2"},F=["value"],A={class:"grid gap-2"},D={class:"grid gap-2 md:grid-cols-2"},L={class:"grid gap-2"},M={class:"grid gap-2"},j={class:"grid gap-2"},E={class:"grid gap-2"},P={class:"rounded-md border border-border bg-muted p-3 text-xs"},T={class:"grid gap-2"},Y=["value"],ae=k({__name:"Create",props:{universities:{},admins:{}},setup(f){const o=C({university_id:"",name:"",short_name:"",nickname:"",year:"",admin_id:""}),x=w(()=>o.short_name===""||o.year===""?"":`${o.short_name}-class-of-${o.year}`.toLowerCase().replace(/\s+/g,"-")),V=()=>{o.post("/admin/courses")};return(q,e)=>(u(),m(_,null,[a(s(c),{title:"Create Course"}),a(U,null,{default:i(()=>[t("div",$,[e[15]||(e[15]=t("h1",{class:"text-2xl font-semibold"},"Create Course",-1)),t("form",{class:"space-y-4 rounded-xl border border-border bg-card p-4",onSubmit:S(V,["prevent"])},[t("div",B,[a(s(l),{for:"university_id"},{default:i(()=>[...e[6]||(e[6]=[d("University",-1)])]),_:1}),v(t("select",{id:"university_id","onUpdate:modelValue":e[0]||(e[0]=r=>s(o).university_id=r),class:"rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[7]||(e[7]=t("option",{value:""},"Select university",-1)),(u(!0),m(_,null,y(f.universities,r=>(u(),m("option",{key:r.id,value:r.id},p(r.name),9,F))),128))],512),[[b,s(o).university_id]]),a(n,{message:s(o).errors.university_id},null,8,["message"])]),t("div",A,[a(s(l),{for:"name"},{default:i(()=>[...e[8]||(e[8]=[d("Course Name",-1)])]),_:1}),a(s(g),{id:"name",modelValue:s(o).name,"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).name=r)},null,8,["modelValue"]),a(n,{message:s(o).errors.name},null,8,["message"])]),t("div",D,[t("div",L,[a(s(l),{for:"short_name"},{default:i(()=>[...e[9]||(e[9]=[d("Short Name",-1)])]),_:1}),a(s(g),{id:"short_name",modelValue:s(o).short_name,"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).short_name=r)},null,8,["modelValue"]),a(n,{message:s(o).errors.short_name},null,8,["message"])]),t("div",M,[a(s(l),{for:"nickname"},{default:i(()=>[...e[10]||(e[10]=[d("Nickname (optional)",-1)])]),_:1}),a(s(g),{id:"nickname",modelValue:s(o).nickname,"onUpdate:modelValue":e[3]||(e[3]=r=>s(o).nickname=r),placeholder:"e.g. Computer Science"},null,8,["modelValue"]),a(n,{message:s(o).errors.nickname},null,8,["message"])])]),t("div",j,[t("div",E,[a(s(l),{for:"year"},{default:i(()=>[...e[11]||(e[11]=[d("Year",-1)])]),_:1}),a(s(g),{id:"year",modelValue:s(o).year,"onUpdate:modelValue":e[4]||(e[4]=r=>s(o).year=r)},null,8,["modelValue"]),a(n,{message:s(o).errors.year},null,8,["message"])])]),t("div",P," Slug preview: "+p(x.value||"short-name-class-of-year"),1),t("div",T,[a(s(l),{for:"admin_id"},{default:i(()=>[...e[12]||(e[12]=[d("Assigned Admin (optional)",-1)])]),_:1}),v(t("select",{id:"admin_id","onUpdate:modelValue":e[5]||(e[5]=r=>s(o).admin_id=r),class:"rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[13]||(e[13]=t("option",{value:""},"No admin assigned",-1)),(u(!0),m(_,null,y(f.admins,r=>(u(),m("option",{key:r.id,value:r.id},p(r.name)+" ("+p(r.email)+") ",9,Y))),128))],512),[[b,s(o).admin_id]]),a(n,{message:s(o).errors.admin_id},null,8,["message"])]),a(N,{type:"submit",loading:s(o).processing,"loading-text":"Saving..."},{default:i(()=>[...e[14]||(e[14]=[d(" Save ",-1)])]),_:1},8,["loading"])],32)])]),_:1})],64))}});export{ae as default};
