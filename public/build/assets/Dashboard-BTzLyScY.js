import{_ as y}from"./AppLayout.vue_vue_type_script_setup_true_lang-M0-t72OP.js";import{d as v,c as m,a as s,u as d,h as _,w as l,b as r,t,l as n,e as a,o as u,p as P,f as p,D as U,F as f,r as w,n as g,A as k}from"./app-B60bE2S9.js";import"./index-CA47rZK0.js";import"./index-Dozy9M6q.js";import"./index-D6K6W84X.js";import"./RovingFocusGroup-q4yW7k78.js";import"./useForwardExpose-D7cYcgM3.js";import"./createLucideIcon-BUS-FCFR.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-TE-Vlp_9.js";import"./useForwardPropsEmits-sCdtHeJo.js";import"./index-Dgh_0kKE.js";import"./VisuallyHidden-CC7ymhs1.js";const C={class:"mx-auto w-full max-w-5xl space-y-6 p-4"},M={class:"rounded-2xl border border-border bg-card p-5"},A={class:"text-sm text-muted-foreground"},D={class:"mt-1 text-3xl font-semibold"},N={class:"mt-1 text-sm text-muted-foreground"},B={class:"mt-2 text-xs uppercase tracking-widest text-muted-foreground"},V={class:"rounded-xl border border-border bg-card p-4"},$={class:"mt-3 flex flex-wrap gap-2"},G={class:"grid gap-3 md:grid-cols-2 lg:grid-cols-5"},S={class:"rounded-xl border border-border bg-card p-4"},F={class:"mt-1 text-xs text-muted-foreground"},z={class:"mt-3 h-2 w-full overflow-hidden rounded-full bg-muted"},E={class:"mt-2 text-xs text-muted-foreground"},H={key:0,class:"rounded-xl border border-border bg-card p-4 text-sm"},L={class:"rounded-xl border border-border bg-card p-4"},R={class:"mt-3 space-y-3"},T={class:"text-sm"},Y={class:"mt-1 text-xs text-muted-foreground"},j={key:0,class:"text-sm text-muted-foreground"},oe=v({__name:"Dashboard",props:{recentPosts:{},managedCourse:{},myUniversity:{},photoUsage:{}},setup(o){const x=k(),i=g(()=>x.props.auth.user),h=g(()=>{const b=new Date().getHours();return b<12?"Good morning":b<18?"Good afternoon":"Good evening"});return(b,e)=>(u(),m(f,null,[s(d(_),{title:"Dashboard"}),s(y,null,{default:l(()=>[r("div",C,[r("section",M,[r("p",A,t(h.value)+", ",1),r("h1",D,t(i.value?.name),1),r("p",N," @"+t(i.value?.username)+" Â· "+t(i.value?.email),1),r("p",B,t(i.value?.roles?.[0]),1)]),r("section",V,[e[3]||(e[3]=r("h2",{class:"text-sm font-semibold"},"You are ready",-1)),e[4]||(e[4]=r("p",{class:"mt-1 text-sm text-muted-foreground"}," Complete your full profile details and start adding your 12 class memories. ",-1)),r("div",$,[s(d(n),{href:"/settings/profile",class:"rounded-md border border-border px-3 py-1.5 text-xs hover:bg-accent"},{default:l(()=>[...e[0]||(e[0]=[a(" Complete Profile ",-1)])]),_:1}),s(d(n),{href:"/posts/create",class:"rounded-md border border-border px-3 py-1.5 text-xs hover:bg-accent"},{default:l(()=>[...e[1]||(e[1]=[a(" Add Memories ",-1)])]),_:1}),s(d(n),{href:"/posts",class:"rounded-md border border-border px-3 py-1.5 text-xs hover:bg-accent"},{default:l(()=>[...e[2]||(e[2]=[a(" My Posts ",-1)])]),_:1})])]),r("section",G,[s(d(n),{href:i.value?.course_slug?`/courses/${i.value.course_slug}`:"/dashboard",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:l(()=>[...e[5]||(e[5]=[a(" My Course Archive ",-1)])]),_:1},8,["href"]),s(d(n),{href:"/posts",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:l(()=>[...e[6]||(e[6]=[a(" My Posts ",-1)])]),_:1}),s(d(n),{href:i.value?.profile_url??"#",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:l(()=>[...e[7]||(e[7]=[a(" My Profile ",-1)])]),_:1},8,["href"]),s(d(n),{href:"/settings/profile",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:l(()=>[...e[8]||(e[8]=[a(" Settings ",-1)])]),_:1}),i.value?.photo_slots_remaining??!1?(u(),P(d(n),{key:0,href:"/posts/create",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:l(()=>[...e[9]||(e[9]=[a(" Add Photo ",-1)])]),_:1})):p("",!0)]),r("section",S,[e[10]||(e[10]=r("h2",{class:"text-sm font-semibold"},"Photo Capacity",-1)),r("p",F,t(o.photoUsage.used)+" / "+t(o.photoUsage.limit)+" used ",1),r("div",z,[r("div",{class:"h-full bg-primary transition-all",style:U({width:`${Math.min(o.photoUsage.used/o.photoUsage.limit*100,100)}%`})},null,4)]),r("p",E,t(o.photoUsage.remaining)+" photo slots left ",1)]),o.myUniversity?(u(),m("section",H,[e[11]||(e[11]=a(" University: ",-1)),s(d(n),{class:"underline underline-offset-4",href:`/universities/${o.myUniversity.slug}`},{default:l(()=>[a(t(o.myUniversity.name),1)]),_:1},8,["href"])])):p("",!0),r("section",L,[e[12]||(e[12]=r("h2",{class:"text-lg font-semibold"},"Recent Activity",-1)),r("div",R,[(u(!0),m(f,null,w(o.recentPosts,c=>(u(),m("article",{key:c.id,class:"rounded-lg border border-border p-3"},[r("p",T,t(c.body||"Photo post"),1),r("p",Y,t(c.published?"Published":"Processing"),1)]))),128)),o.recentPosts.length===0?(u(),m("p",j," No recent posts yet. ")):p("",!0)])])])]),_:1})],64))}});export{oe as default};
