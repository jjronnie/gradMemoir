import{_ as y}from"./AppLayout.vue_vue_type_script_setup_true_lang-CCIfOzg-.js";import{d as v,c as m,a as d,u as l,h as _,w as a,b as t,t as r,l as i,e as n,o as u,p as P,f as p,B as U,F as f,r as w,n as g,z as k}from"./app-BwoDBmTi.js";import"./index-D21mqHZ5.js";import"./index-zVmKB-0j.js";import"./index-DEqmV2A2.js";import"./Presence-D5tmvYTh.js";import"./useForwardExpose-C0apztFT.js";import"./createLucideIcon-BJDOlxJS.js";import"./useForwardPropsEmits-C4M-NV3R.js";import"./VisuallyHidden-Bt4Wfgfl.js";import"./x-JIVm6lz3.js";import"./index-Dgh_0kKE.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-Rc9wvAIC.js";const C={class:"mx-auto w-full max-w-5xl space-y-6 p-4"},B={class:"rounded-2xl border border-border bg-card p-5"},N={class:"text-sm text-muted-foreground"},A={class:"mt-1 text-3xl font-semibold"},D={class:"mt-1 text-sm text-muted-foreground"},M={class:"mt-2 text-xs uppercase tracking-widest text-muted-foreground"},V={class:"rounded-xl border border-border bg-card p-4"},$={class:"mt-3 flex flex-wrap gap-2"},G={class:"grid gap-3 md:grid-cols-2 lg:grid-cols-4"},S={class:"rounded-xl border border-border bg-card p-4"},z={class:"mt-1 text-xs text-muted-foreground"},F={class:"mt-3 h-2 w-full overflow-hidden rounded-full bg-muted"},E={class:"mt-2 text-xs text-muted-foreground"},H={key:0,class:"rounded-xl border border-border bg-card p-4 text-sm"},L={class:"rounded-xl border border-border bg-card p-4"},R={class:"mt-3 space-y-3"},T={class:"text-sm"},Y={class:"mt-1 text-xs text-muted-foreground"},j={key:0,class:"text-sm text-muted-foreground"},se=v({__name:"Dashboard",props:{recentPosts:{},managedCourse:{},myUniversity:{},photoUsage:{}},setup(o){const x=k(),s=g(()=>x.props.auth.user),h=g(()=>{const c=new Date().getHours();return c<12?"Good morning":c<18?"Good afternoon":"Good evening"});return(c,e)=>(u(),m(f,null,[d(l(_),{title:"Dashboard"}),d(y,null,{default:a(()=>[t("div",C,[t("section",B,[t("p",N,r(h.value)+", ",1),t("h1",A,r(s.value?.name),1),t("p",D," @"+r(s.value?.username)+" Â· "+r(s.value?.email),1),t("p",M,r(s.value?.roles?.[0]),1)]),t("section",V,[e[2]||(e[2]=t("h2",{class:"text-sm font-semibold"},"You are ready",-1)),e[3]||(e[3]=t("p",{class:"mt-1 text-sm text-muted-foreground"}," Complete your full profile details and start adding your 12 class memories. ",-1)),t("div",$,[d(l(i),{href:"/settings/profile",class:"rounded-md border border-border px-3 py-1.5 text-xs hover:bg-accent"},{default:a(()=>[...e[0]||(e[0]=[n(" Complete Profile ",-1)])]),_:1}),d(l(i),{href:"/posts/create",class:"rounded-md border border-border px-3 py-1.5 text-xs hover:bg-accent"},{default:a(()=>[...e[1]||(e[1]=[n(" Add Memories ",-1)])]),_:1})])]),t("section",G,[d(l(i),{href:s.value?.course_slug?`/courses/${s.value.course_slug}`:"/dashboard",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:a(()=>[...e[4]||(e[4]=[n(" My Course Archive ",-1)])]),_:1},8,["href"]),d(l(i),{href:s.value?.profile_url??"#",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:a(()=>[...e[5]||(e[5]=[n(" My Profile ",-1)])]),_:1},8,["href"]),d(l(i),{href:"/settings/profile",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:a(()=>[...e[6]||(e[6]=[n(" Settings ",-1)])]),_:1}),s.value?.photo_slots_remaining??!1?(u(),P(l(i),{key:0,href:"/posts/create",class:"rounded-xl border border-border bg-card p-4 hover:border-primary"},{default:a(()=>[...e[7]||(e[7]=[n(" Add Photo ",-1)])]),_:1})):p("",!0)]),t("section",S,[e[8]||(e[8]=t("h2",{class:"text-sm font-semibold"},"Photo Capacity",-1)),t("p",z,r(o.photoUsage.used)+" / "+r(o.photoUsage.limit)+" used ",1),t("div",F,[t("div",{class:"h-full bg-primary transition-all",style:U({width:`${Math.min(o.photoUsage.used/o.photoUsage.limit*100,100)}%`})},null,4)]),t("p",E,r(o.photoUsage.remaining)+" photo slots left ",1)]),o.myUniversity?(u(),m("section",H,[e[9]||(e[9]=n(" University: ",-1)),d(l(i),{class:"underline underline-offset-4",href:`/universities/${o.myUniversity.slug}`},{default:a(()=>[n(r(o.myUniversity.name),1)]),_:1},8,["href"])])):p("",!0),t("section",L,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold"},"Recent Activity",-1)),t("div",R,[(u(!0),m(f,null,w(o.recentPosts,b=>(u(),m("article",{key:b.id,class:"rounded-lg border border-border p-3"},[t("p",T,r(b.body||"Photo post"),1),t("p",Y,r(b.published?"Published":"Processing"),1)]))),128)),o.recentPosts.length===0?(u(),m("p",j," No recent posts yet. ")):p("",!0)])])])]),_:1})],64))}});export{se as default};
