import{d as k,j as C,c as m,a as t,u as s,h as c,w as i,b as a,k as S,e as d,m as v,o as u,F as _,r as y,t as p,v as b,n as w}from"./app-C4RxZQeq.js";import{_ as n}from"./InputError.vue_vue_type_script_setup_true_lang-DclnpkCj.js";import{_ as N}from"./LoadingButton.vue_vue_type_script_setup_true_lang-BZdzqf8S.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-6eVTzFlU.js";import{_ as l}from"./Label.vue_vue_type_script_setup_true_lang-BHs03ZX6.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkC7_KcU.js";import"./index-2UITHzBk.js";import"./Spinner.vue_vue_type_script_setup_true_lang-CzuqRdQf.js";import"./createLucideIcon-CIIjH0AZ.js";import"./index-Cv2cN02m.js";import"./index-CQCdNE30.js";import"./useForwardExpose-CwMYFS2I.js";import"./Presence-C6NHUOAT.js";import"./useForwardPropsEmits-VfW6L23Z.js";import"./VisuallyHidden-BekQp5so.js";import"./x-BuNzBGro.js";import"./index-Dgh_0kKE.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-DN7C7JYV.js";const $={class:"mx-auto max-w-2xl space-y-4 p-4"},B={class:"grid gap-2"},F=["value"],A={class:"grid gap-2"},D={class:"grid gap-2 md:grid-cols-2"},L={class:"grid gap-2"},M={class:"grid gap-2"},j={class:"grid gap-2"},E={class:"grid gap-2"},P={class:"rounded-md border border-border bg-muted p-3 text-xs"},T={class:"grid gap-2"},Y=["value"],ae=k({__name:"Create",props:{universities:{},admins:{}},setup(f){const o=C({university_id:"",name:"",short_name:"",nickname:"",year:"",admin_id:""}),x=w(()=>o.short_name===""||o.year===""?"":`${o.short_name}-class-of-${o.year}`.toLowerCase().replace(/\s+/g,"-")),V=()=>{o.post("/admin/courses")};return(q,e)=>(u(),m(_,null,[t(s(c),{title:"Create Course"}),t(U,null,{default:i(()=>[a("div",$,[e[15]||(e[15]=a("h1",{class:"text-2xl font-semibold"},"Create Course",-1)),a("form",{class:"space-y-4 rounded-xl border border-border bg-card p-4",onSubmit:S(V,["prevent"])},[a("div",B,[t(s(l),{for:"university_id"},{default:i(()=>[...e[6]||(e[6]=[d("University",-1)])]),_:1}),v(a("select",{id:"university_id","onUpdate:modelValue":e[0]||(e[0]=r=>s(o).university_id=r),class:"rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[7]||(e[7]=a("option",{value:""},"Select university",-1)),(u(!0),m(_,null,y(f.universities,r=>(u(),m("option",{key:r.id,value:r.id},p(r.name),9,F))),128))],512),[[b,s(o).university_id]]),t(n,{message:s(o).errors.university_id},null,8,["message"])]),a("div",A,[t(s(l),{for:"name"},{default:i(()=>[...e[8]||(e[8]=[d("Course Name",-1)])]),_:1}),t(s(g),{id:"name",modelValue:s(o).name,"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).name=r)},null,8,["modelValue"]),t(n,{message:s(o).errors.name},null,8,["message"])]),a("div",D,[a("div",L,[t(s(l),{for:"short_name"},{default:i(()=>[...e[9]||(e[9]=[d("Short Name",-1)])]),_:1}),t(s(g),{id:"short_name",modelValue:s(o).short_name,"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).short_name=r)},null,8,["modelValue"]),t(n,{message:s(o).errors.short_name},null,8,["message"])]),a("div",M,[t(s(l),{for:"nickname"},{default:i(()=>[...e[10]||(e[10]=[d("Nickname (optional)",-1)])]),_:1}),t(s(g),{id:"nickname",modelValue:s(o).nickname,"onUpdate:modelValue":e[3]||(e[3]=r=>s(o).nickname=r),placeholder:"e.g. Computer Science"},null,8,["modelValue"]),t(n,{message:s(o).errors.nickname},null,8,["message"])])]),a("div",j,[a("div",E,[t(s(l),{for:"year"},{default:i(()=>[...e[11]||(e[11]=[d("Year",-1)])]),_:1}),t(s(g),{id:"year",modelValue:s(o).year,"onUpdate:modelValue":e[4]||(e[4]=r=>s(o).year=r)},null,8,["modelValue"]),t(n,{message:s(o).errors.year},null,8,["message"])])]),a("div",P," Slug preview: "+p(x.value||"short-name-class-of-year"),1),a("div",T,[t(s(l),{for:"admin_id"},{default:i(()=>[...e[12]||(e[12]=[d("Assigned Admin (optional)",-1)])]),_:1}),v(a("select",{id:"admin_id","onUpdate:modelValue":e[5]||(e[5]=r=>s(o).admin_id=r),class:"rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[13]||(e[13]=a("option",{value:""},"No admin assigned",-1)),(u(!0),m(_,null,y(f.admins,r=>(u(),m("option",{key:r.id,value:r.id},p(r.name)+" ("+p(r.email)+") ",9,Y))),128))],512),[[b,s(o).admin_id]]),t(n,{message:s(o).errors.admin_id},null,8,["message"])]),t(N,{type:"submit",loading:s(o).processing,"loading-text":"Saving..."},{default:i(()=>[...e[14]||(e[14]=[d(" Save ",-1)])]),_:1},8,["loading"])],32)])]),_:1})],64))}});export{ae as default};
