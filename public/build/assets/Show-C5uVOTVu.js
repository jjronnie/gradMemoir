import{_ as w}from"./ShareButton.vue_vue_type_script_setup_true_lang-BZA3dByN.js";import{d as v,c as u,x as $,n as z,o as r,g,A as S,a as m,u as l,h as V,w as f,b as s,t as n,f as h,F as x,r as C,p,l as _,e as b,i as N}from"./app-BwoDBmTi.js";import{_ as B}from"./Input.vue_vue_type_script_setup_true_lang-B5RPFNNU.js";import{_ as T}from"./PublicLayout.vue_vue_type_script_setup_true_lang-BxjAwxVk.js";import"./index-D21mqHZ5.js";import"./index-zVmKB-0j.js";import"./index-DEqmV2A2.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-Rc9wvAIC.js";const A=v({__name:"ShimmerCard",props:{size:{default:"card"}},setup(e){const o=e,c=z(()=>o.size==="post"?"aspect-square":o.size==="profile"?"aspect-[16/9]":"aspect-[3/4]");return(i,d)=>(r(),u("div",{class:$(["animate-pulse rounded-xl bg-muted",c.value]),"aria-hidden":"true"},null,2))}}),j={class:"py-8"},F={class:"text-3xl font-semibold"},I={class:"mt-2 text-sm text-muted-foreground"},U={key:0,class:"mt-1 text-sm text-muted-foreground"},q={class:"mt-4 max-w-md"},D={class:"grid grid-cols-2 gap-4 pb-10 sm:grid-cols-3 lg:grid-cols-4"},E=["src","alt"],K={class:"p-3"},L={class:"truncate text-center text-sm font-semibold capitalize"},M={class:"flex items-center justify-between pb-10"},P={key:1},Y=v({__name:"Show",props:{course:{},students:{},search:{}},setup(e){const o=e,c=g(""),i=g(o.search);let d=null;const y=()=>{d!==null&&clearTimeout(d),d=setTimeout(()=>{N.get(`/courses/${o.course.slug}`,{search:i.value},{preserveScroll:!0,preserveState:!0})},350)};return S(()=>{c.value=window.location.href}),(k,a)=>(r(),u(x,null,[m(l(V),{title:e.course.name},null,8,["title"]),m(T,null,{default:f(()=>[s("section",j,[s("h1",F,n(e.course.name),1),s("p",I,n(e.course.university?.name)+" Â· Class of "+n(e.course.year),1),e.course.nickname?(r(),u("p",U," AKA: "+n(e.course.nickname),1)):h("",!0),s("div",q,[m(l(B),{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),placeholder:"Search by name or username...",onInput:y},null,8,["modelValue"])])]),s("section",D,[(r(!0),u(x,null,C(e.students.data,t=>(r(),p(l(_),{key:t.id,href:`/@${t.username}`,class:"overflow-hidden border border-border bg-card"},{default:f(()=>[s("img",{src:t.media?.[0]?.conversions?.full??t.media?.[0]?.conversions?.thumb??t.media?.[0]?.original_url??"",alt:t.name,class:"aspect-[3/4] w-full object-cover",loading:"lazy"},null,8,E),s("div",K,[s("p",L,n(t.name),1)])]),_:2},1032,["href"]))),128)),e.students.data.length===0?(r(),p(A,{key:0,size:"card"})):h("",!0)]),s("section",M,[e.students.prev_page_url?(r(),p(l(_),{key:0,href:e.students.prev_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:f(()=>[...a[1]||(a[1]=[b("Previous",-1)])]),_:1},8,["href"])):(r(),u("div",P)),e.students.next_page_url?(r(),p(l(_),{key:2,href:e.students.next_page_url,class:"rounded-md border border-border px-3 py-1.5 text-sm"},{default:f(()=>[...a[2]||(a[2]=[b("Next",-1)])]),_:1},8,["href"])):h("",!0)]),m(w,{url:c.value,title:`${e.course.name} - ${k.$page.props.appName}`},null,8,["url","title"])]),_:1})],64))}});export{Y as default};
