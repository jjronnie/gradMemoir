import{_ as $}from"./ConfirmActionModal.vue_vue_type_script_setup_true_lang-ChNgf7qG.js";import{_ as c}from"./index-D21mqHZ5.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-B5RPFNNU.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-CCIfOzg-.js";import{d as V,g as d,c as m,a as r,u as o,h as D,w as l,b as e,l as h,e as f,o as _,F as b,r as U,t as a,i as y}from"./app-BwoDBmTi.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-uFK_szTC.js";import"./useForwardPropsEmits-C4M-NV3R.js";import"./x-JIVm6lz3.js";import"./useForwardExpose-C0apztFT.js";import"./Presence-D5tmvYTh.js";import"./createLucideIcon-BJDOlxJS.js";import"./index-DEqmV2A2.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-bJ1-nSWY.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BO_yIScT.js";import"./index-zVmKB-0j.js";import"./VisuallyHidden-Bt4Wfgfl.js";import"./index-Dgh_0kKE.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-Rc9wvAIC.js";const A={class:"space-y-4 p-4"},B={class:"flex items-center justify-between"},F={class:"rounded-xl border border-border bg-card p-4"},I={class:"overflow-x-auto"},N={class:"w-full min-w-[960px] text-sm"},z={class:"px-2 py-2"},E={class:"px-2 py-2"},j={class:"px-2 py-2"},q={class:"px-2 py-2"},L={class:"px-2 py-2"},O={class:"px-2 py-2"},T=["href"],ie=V({__name:"Index",props:{courses:{},search:{}},setup(v){const u=d(v.search),n=d(!1),i=d(null),p=d(!1),g=()=>{y.get("/admin/courses",{search:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},C=x=>{i.value=x,n.value=!0},w=()=>{i.value!==null&&(p.value=!0,y.delete(`/admin/courses/${i.value}`,{preserveScroll:!0,onFinish:()=>{p.value=!1,n.value=!1,i.value=null}}))};return(x,t)=>(_(),m(b,null,[r(o(D),{title:"Courses"}),r(S,null,{default:l(()=>[e("div",A,[e("div",B,[t[3]||(t[3]=e("h1",{class:"text-2xl font-semibold"},"Courses",-1)),r(o(h),{href:"/admin/courses/create"},{default:l(()=>[r(o(c),null,{default:l(()=>[...t[2]||(t[2]=[f("Create Course",-1)])]),_:1})]),_:1})]),r(o(k),{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:"Search courses...",onInput:g},null,8,["modelValue"]),e("div",F,[e("div",I,[e("table",N,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"border-b border-border text-left"},[e("th",{class:"px-2 py-2"},"Course"),e("th",{class:"px-2 py-2"},"University"),e("th",{class:"px-2 py-2"},"Year"),e("th",{class:"px-2 py-2"},"Slug"),e("th",{class:"px-2 py-2"},"Admin"),e("th",{class:"px-2 py-2"},"Actions")])],-1)),e("tbody",null,[(_(!0),m(b,null,U(v.courses.data,s=>(_(),m("tr",{key:s.id,class:"border-b border-border/50"},[e("td",z,a(s.name)+" ("+a(s.short_name)+") ",1),e("td",E,a(s.university?.name),1),e("td",j,a(s.year),1),e("td",q,a(s.slug),1),e("td",L,a(s.admin?.name??"â€”"),1),e("td",O,[r(o(h),{href:`/admin/courses/${s.id}/edit`},{default:l(()=>[r(o(c),{variant:"outline",size:"sm"},{default:l(()=>[...t[4]||(t[4]=[f("Edit",-1)])]),_:1})]),_:1},8,["href"]),e("a",{href:`/courses/${s.slug}`,target:"_blank",rel:"noopener noreferrer",class:"ml-2 inline-flex h-8 items-center rounded-md border border-border px-3 text-xs hover:bg-accent"}," View ",8,T),r(o(c),{variant:"destructive",size:"sm",class:"ml-2",onClick:G=>C(s.id)},{default:l(()=>[...t[5]||(t[5]=[f(" Delete ",-1)])]),_:1},8,["onClick"])])]))),128))])])])])]),r($,{open:n.value,title:"Delete Course",description:"Are you sure you want to delete this course? Users assigned to it will have their course cleared.","confirm-text":"Delete",processing:p.value,"onUpdate:open":t[1]||(t[1]=s=>n.value=s),onConfirm:w},null,8,["open","processing"])]),_:1})],64))}});export{ie as default};
