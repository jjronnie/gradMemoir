import{d as w,p as N,u as e,K as S,w as s,H as L,o as h,ak as H,c as C,a as r,b as d,e as n,J as j,t as P,y as J,n as $,A as W,j as T,h as z,k as E,f as K}from"./app-C4RxZQeq.js";import{_ as M,a as O}from"./UsernameInput.vue_vue_type_script_setup_true_lang-vZco8cyB.js";import{q as U}from"./index-Dgh_0kKE.js";import{a as q,_ as R}from"./Layout.vue_vue_type_script_setup_true_lang-DeRDVGUq.js";import{_ as b}from"./InputError.vue_vue_type_script_setup_true_lang-DclnpkCj.js";import{_ as Q}from"./index-2UITHzBk.js";import{a as X,b as G,c as Y,_ as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CoMOJCAU.js";import{d as ee}from"./x-BuNzBGro.js";import{_ as te}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Bixz7yX9.js";import{_ as ae}from"./DialogFooter.vue_vue_type_script_setup_true_lang-TdVNFi_n.js";import{_ as re}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CliOm7nH.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-6eVTzFlU.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-BHs03ZX6.js";import{_ as F}from"./LoadingButton.vue_vue_type_script_setup_true_lang-BZdzqf8S.js";import{e as oe,_ as le}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkC7_KcU.js";import"./index-CQCdNE30.js";import"./index-DLgTD8uN.js";import"./useForwardPropsEmits-VfW6L23Z.js";import"./useForwardExpose-CwMYFS2I.js";import"./Presence-C6NHUOAT.js";import"./createLucideIcon-CIIjH0AZ.js";import"./index-Cv2cN02m.js";import"./Spinner.vue_vue_type_script_setup_true_lang-CzuqRdQf.js";import"./VisuallyHidden-BekQp5so.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-DN7C7JYV.js";const se=w({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(t){const y=t;return(v,l)=>(h(),N(e(ee),S({"data-slot":"dialog-close"},y),{default:s(()=>[L(v.$slots,"default")]),_:3},16))}}),m=t=>({url:m.url(t),method:"get"});m.definition={methods:["get","head"],url:"/settings/profile"};m.url=t=>m.definition.url+U(t);m.get=t=>({url:m.url(t),method:"get"});m.head=t=>({url:m.url(t),method:"head"});const D=t=>({action:m.url(t),method:"get"});D.get=t=>({action:m.url(t),method:"get"});D.head=t=>({action:m.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});m.form=D;const p=t=>({url:p.url(t),method:"patch"});p.definition={methods:["patch","put"],url:"/settings/profile"};p.url=t=>p.definition.url+U(t);p.patch=t=>({url:p.url(t),method:"patch"});p.put=t=>({url:p.url(t),method:"put"});const A=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});A.patch=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});A.put=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});p.form=A;const c=t=>({url:c.url(t),method:"put"});c.definition={methods:["put"],url:"/settings/avatar"};c.url=t=>c.definition.url+U(t);c.put=t=>({url:c.url(t),method:"put"});const B=t=>({action:c.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});B.put=t=>({action:c.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});c.form=B;const _=t=>({url:_.url(t),method:"delete"});_.definition={methods:["delete"],url:"/settings/profile"};_.url=t=>_.definition.url+U(t);_.delete=t=>({url:_.url(t),method:"delete"});const I=t=>({action:_.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});I.delete=t=>({action:_.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});_.form=I;const ue={edit:m,update:p,updateAvatar:c,destroy:_},de={class:"space-y-6"},ne={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ie={class:"grid gap-2"},me=w({__name:"DeleteUser",setup(t){const y=H("passwordInput");return(v,l)=>(h(),C("div",de,[r(q,{variant:"small",title:"Delete account",description:"Delete your account and all of its resources"}),d("div",ne,[l[7]||(l[7]=d("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[d("p",{class:"font-medium"},"Warning"),d("p",{class:"text-sm"}," Please proceed with caution, this cannot be undone. ")],-1)),r(e(Z),null,{default:s(()=>[r(e(re),{"as-child":""},{default:s(()=>[r(e(Q),{variant:"destructive","data-test":"delete-user-button"},{default:s(()=>[...l[1]||(l[1]=[n("Delete account",-1)])]),_:1})]),_:1}),r(e(X),null,{default:s(()=>[r(e(j),S(e(ue).destroy.form(),{"reset-on-success":"",onError:l[0]||(l[0]=()=>y.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:s(({errors:o,processing:g,reset:V,clearErrors:x})=>[r(e(G),{class:"space-y-3"},{default:s(()=>[r(e(Y),null,{default:s(()=>[...l[2]||(l[2]=[n("Are you sure you want to delete your account?",-1)])]),_:1}),r(e(te),null,{default:s(()=>[...l[3]||(l[3]=[n(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),d("div",ie,[r(e(i),{for:"password",class:"sr-only"},{default:s(()=>[...l[4]||(l[4]=[n("Password",-1)])]),_:1}),r(e(f),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:y,placeholder:"Password"},null,512),r(b,{message:o.password},null,8,["message"])]),r(e(ae),{class:"gap-2"},{default:s(()=>[r(e(se),{"as-child":""},{default:s(()=>[r(e(Q),{variant:"secondary",onClick:()=>{x(),V()}},{default:s(()=>[...l[5]||(l[5]=[n(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),r(e(Q),{type:"submit",variant:"destructive",disabled:g,"data-test":"confirm-delete-user-button"},{default:s(()=>[...l[6]||(l[6]=[n(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),pe={class:"grid gap-2"},fe=["name","rows","value","placeholder"],ge=w({__name:"WordCountTextarea",props:{modelValue:{},name:{default:"bio"},maxWords:{default:100},rows:{default:4},placeholder:{default:""}},emits:["update:modelValue"],setup(t,{emit:y}){const v=t,l=y,o=W(),g=$(()=>{const k=v.modelValue.trim();return k===""?0:k.split(/\s+/).length}),V=$(()=>g.value>v.maxWords?"text-destructive":g.value>=v.maxWords-10?"text-amber-600":"text-muted-foreground"),x=$(()=>o.props.errors?.[v.name]??null);return(k,a)=>(h(),C("div",pe,[d("textarea",{name:t.name,rows:t.rows,value:t.modelValue,placeholder:t.placeholder,class:"flex min-h-24 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-xs outline-none ring-ring/50 transition-[color,box-shadow] placeholder:text-muted-foreground focus-visible:ring-[3px]",onInput:a[0]||(a[0]=u=>l("update:modelValue",u.target.value))},null,40,fe),d("div",{class:J(["text-right text-xs",V.value])},P(g.value)+" / "+P(t.maxWords)+" words ",3),r(b,{message:x.value},null,8,["message"])]))}}),ce={class:"space-y-6"},_e={class:"grid gap-2"},ye={class:"grid gap-2"},be={class:"grid gap-2"},ve={key:0,class:"text-xs text-muted-foreground"},Ve={class:"grid gap-4 md:grid-cols-2"},xe={class:"grid gap-2"},he={class:"grid gap-2"},ke={class:"grid gap-2"},we={class:"grid gap-2"},Ue={class:"grid gap-4 md:grid-cols-2"},$e={class:"grid gap-2"},Qe={class:"grid gap-2"},Pe={class:"grid gap-2"},qe={class:"grid gap-2"},Ce={class:"grid gap-2"},De={class:"space-y-4"},rt=w({__name:"Profile",props:{canUpdateUsernameAt:{}},setup(t){const y=t,l=W().props.auth.user,o=T({name:l?.name??"",email:l?.email??"",username:l?.username??"",bio:l?.bio??"",profession:l?.profession??"",location:l?.location??"",phone:l?.phone??"",facebook_username:l?.facebook_username??"",x_username:l?.x_username??"",tiktok_username:l?.tiktok_username??"",instagram_username:l?.instagram_username??"",website:l?.website??"",email_public:l?.email_public??""}),g=T({avatar:null}),V=()=>{o.put("/settings/profile")},x=()=>{g.put("/settings/avatar",{forceFormData:!0})};return(k,a)=>(h(),N(le,{breadcrumbs:[{title:"Profile settings",href:e(oe)().url}]},{default:s(()=>[r(e(z),{title:"Profile settings"}),r(R,null,{default:s(()=>[d("div",ce,[r(q,{variant:"small",title:"Profile information",description:"Update your public and account profile details."}),d("form",{class:"space-y-6",onSubmit:E(V,["prevent"])},[d("div",_e,[r(e(i),{for:"name"},{default:s(()=>[...a[14]||(a[14]=[n("Name",-1)])]),_:1}),r(e(f),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":a[0]||(a[0]=u=>e(o).name=u),placeholder:"e.g. Jane Doe"},null,8,["modelValue"]),r(b,{message:e(o).errors.name},null,8,["message"])]),d("div",ye,[r(e(i),{for:"email"},{default:s(()=>[...a[15]||(a[15]=[n("Email",-1)])]),_:1}),r(e(f),{id:"email",type:"email",modelValue:e(o).email,"onUpdate:modelValue":a[1]||(a[1]=u=>e(o).email=u),placeholder:"you@example.com"},null,8,["modelValue"]),r(b,{message:e(o).errors.email},null,8,["message"])]),d("div",be,[r(e(i),null,{default:s(()=>[...a[16]||(a[16]=[n("Username",-1)])]),_:1}),r(M,{modelValue:e(o).username,"onUpdate:modelValue":a[2]||(a[2]=u=>e(o).username=u)},null,8,["modelValue"]),y.canUpdateUsernameAt?(h(),C("p",ve," Next change available on "+P(new Date(y.canUpdateUsernameAt).toLocaleDateString()),1)):K("",!0)]),r(ge,{modelValue:e(o).bio,"onUpdate:modelValue":a[3]||(a[3]=u=>e(o).bio=u),name:"bio",placeholder:"Tell your class about yourself"},null,8,["modelValue"]),d("div",Ve,[d("div",xe,[r(e(i),{for:"profession"},{default:s(()=>[...a[17]||(a[17]=[n("Profession",-1)])]),_:1}),r(e(f),{id:"profession",modelValue:e(o).profession,"onUpdate:modelValue":a[4]||(a[4]=u=>e(o).profession=u),placeholder:"e.g. Photographer"},null,8,["modelValue"]),r(b,{message:e(o).errors.profession},null,8,["message"])]),d("div",he,[r(e(i),{for:"location"},{default:s(()=>[...a[18]||(a[18]=[n("Location",-1)])]),_:1}),r(e(f),{id:"location",modelValue:e(o).location,"onUpdate:modelValue":a[5]||(a[5]=u=>e(o).location=u),placeholder:"e.g. Lagos, Nigeria"},null,8,["modelValue"]),r(b,{message:e(o).errors.location},null,8,["message"])])]),d("div",ke,[r(e(i),{for:"phone"},{default:s(()=>[...a[19]||(a[19]=[n("WhatsApp Number",-1)])]),_:1}),r(e(f),{id:"phone",modelValue:e(o).phone,"onUpdate:modelValue":a[6]||(a[6]=u=>e(o).phone=u),placeholder:"+1 555 123 4567"},null,8,["modelValue"]),r(b,{message:e(o).errors.phone},null,8,["message"])]),d("div",we,[r(e(i),{for:"website"},{default:s(()=>[...a[20]||(a[20]=[n("Website (without https://)",-1)])]),_:1}),r(e(f),{id:"website",modelValue:e(o).website,"onUpdate:modelValue":a[7]||(a[7]=u=>e(o).website=u),placeholder:"example.com"},null,8,["modelValue"]),r(b,{message:e(o).errors.website},null,8,["message"])]),d("div",Ue,[d("div",$e,[r(e(i),{for:"facebook_username"},{default:s(()=>[...a[21]||(a[21]=[n("Facebook",-1)])]),_:1}),r(e(f),{id:"facebook_username",modelValue:e(o).facebook_username,"onUpdate:modelValue":a[8]||(a[8]=u=>e(o).facebook_username=u),placeholder:"facebook_username"},null,8,["modelValue"])]),d("div",Qe,[r(e(i),{for:"x_username"},{default:s(()=>[...a[22]||(a[22]=[n("X",-1)])]),_:1}),r(e(f),{id:"x_username",modelValue:e(o).x_username,"onUpdate:modelValue":a[9]||(a[9]=u=>e(o).x_username=u),placeholder:"x_username"},null,8,["modelValue"])]),d("div",Pe,[r(e(i),{for:"tiktok_username"},{default:s(()=>[...a[23]||(a[23]=[n("TikTok",-1)])]),_:1}),r(e(f),{id:"tiktok_username",modelValue:e(o).tiktok_username,"onUpdate:modelValue":a[10]||(a[10]=u=>e(o).tiktok_username=u),placeholder:"tiktok_username"},null,8,["modelValue"])]),d("div",qe,[r(e(i),{for:"instagram_username"},{default:s(()=>[...a[24]||(a[24]=[n("Instagram",-1)])]),_:1}),r(e(f),{id:"instagram_username",modelValue:e(o).instagram_username,"onUpdate:modelValue":a[11]||(a[11]=u=>e(o).instagram_username=u),placeholder:"instagram_username"},null,8,["modelValue"])])]),d("div",Ce,[r(e(i),{for:"email_public"},{default:s(()=>[...a[25]||(a[25]=[n("Public Email",-1)])]),_:1}),r(e(f),{id:"email_public",type:"email",modelValue:e(o).email_public,"onUpdate:modelValue":a[12]||(a[12]=u=>e(o).email_public=u),placeholder:"public-contact@example.com"},null,8,["modelValue"]),r(b,{message:e(o).errors.email_public},null,8,["message"])]),r(F,{type:"submit",loading:e(o).processing,"loading-text":"Saving..."},{default:s(()=>[...a[26]||(a[26]=[n(" Save Profile ",-1)])]),_:1},8,["loading"])],32)]),d("div",De,[r(q,{variant:"small",title:"Avatar",description:"Upload and replace your profile picture."}),d("form",{class:"space-y-4",onSubmit:E(x,["prevent"])},[r(O,{modelValue:e(g).avatar,"onUpdate:modelValue":a[13]||(a[13]=u=>e(g).avatar=u),"current-avatar":e(l)?.avatar??null},null,8,["modelValue","current-avatar"]),r(F,{type:"submit",loading:e(g).processing,"loading-text":"Uploading..."},{default:s(()=>[...a[27]||(a[27]=[n(" Update Avatar ",-1)])]),_:1},8,["loading"])],32)]),r(me)]),_:1})]),_:1},8,["breadcrumbs"]))}});export{rt as default};
