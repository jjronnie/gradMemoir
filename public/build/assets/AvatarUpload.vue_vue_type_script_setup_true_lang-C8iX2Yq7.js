import{d as I,g as h,y as A,c as i,b as e,a as r,u as s,t as y,e as d,w as x,x as P,E as M,o as p}from"./app-BXlxvPJ4.js";import{_ as B}from"./InputError.vue_vue_type_script_setup_true_lang-DDcA0SiJ.js";import{_ as b}from"./FlashMessages.vue_vue_type_script_setup_true_lang-HONSxRlG.js";import{c as m}from"./createLucideIcon-BhpRTv15.js";const R=m("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const U=m("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const j=m("ImagePlusIcon",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]),F={class:"space-y-4"},L=["name"],N={class:"flex items-center gap-4"},z={class:"h-24 w-24 overflow-hidden rounded-full border border-border bg-background"},E=["src"],G={key:1,class:"flex h-full w-full items-center justify-center text-muted-foreground"},q={class:"space-y-1"},D={class:"font-medium"},H={class:"pointer-events-none absolute right-3 bottom-3 inline-flex items-center gap-1 rounded-md border border-border bg-background px-2 py-1 text-xs text-muted-foreground transition group-hover:text-foreground"},T={class:"flex items-center gap-2"},K=I({__name:"AvatarUpload",props:{modelValue:{},currentAvatar:{default:null},name:{default:"avatar"}},emits:["update:modelValue"],setup(f,{emit:_}){const o=f,v=_,k=M(),a=h(o.currentAvatar),l=h(null);A(()=>o.currentAvatar,n=>{o.modelValue===null&&(a.value=n??null)});const w=P(()=>k.props.errors?.[o.name]??null),C=n=>{const c=n.target.files?.[0]??null;if(v("update:modelValue",c),c===null){a.value=o.currentAvatar??null;return}const u=new FileReader;u.onload=()=>{a.value=u.result},u.readAsDataURL(c)},g=()=>{l.value?.click()},V=()=>{v("update:modelValue",null),a.value=o.currentAvatar??null,l.value!==null&&(l.value.value="")};return(n,t)=>(p(),i("div",F,[e("input",{ref_key:"fileInput",ref:l,name:f.name,type:"file",accept:".jpg,.jpeg,.png,.webp,.gif,.avif",class:"hidden",onChange:C},null,40,L),e("button",{type:"button",class:"group relative w-full overflow-hidden rounded-xl border border-dashed border-border bg-muted/40 p-4 text-left transition hover:border-primary",onClick:g},[e("div",N,[e("div",z,[a.value?(p(),i("img",{key:0,src:a.value,alt:"Avatar preview",class:"h-full w-full object-cover"},null,8,E)):(p(),i("div",G,[r(s(U),{class:"h-12 w-12"})]))]),e("div",q,[e("p",D,y(a.value?"Change profile photo":"Choose profile photo"),1),t[0]||(t[0]=e("p",{class:"text-xs text-muted-foreground"}," JPG, PNG, WEBP, GIF, or AVIF up to 20MB ",-1)),t[1]||(t[1]=e("p",{class:"text-xs text-muted-foreground"}," Tap to open picker and preview instantly ",-1))])]),e("span",H,[r(s(R),{class:"h-3.5 w-3.5"}),t[2]||(t[2]=d(" Pick ",-1))])]),e("div",T,[r(s(b),{type:"button",variant:"outline",size:"sm",onClick:g},{default:x(()=>[r(s(j),{class:"mr-1 h-4 w-4"}),d(" "+y(a.value?"Replace":"Upload"),1)]),_:1}),r(s(b),{type:"button",variant:"ghost",size:"sm",onClick:V},{default:x(()=>[...t[3]||(t[3]=[d(" Clear ",-1)])]),_:1})]),r(B,{message:w.value},null,8,["message"])]))}});export{K as _};
