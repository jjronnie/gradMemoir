import{e as $}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-ghQ8lCcE.js";import{_ as c}from"./FlashMessages.vue_vue_type_script_setup_true_lang-Bfj-M2-J.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-Bp2HSOOx.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-D60ySLUZ.js";import{d as V,g as d,c as m,a as r,u as o,h as D,w as l,b as e,l as h,e as f,o as _,F as b,r as U,t as a,i as y}from"./app-Xw8PJXQX.js";import"./useForwardPropsEmits-C8m6eQjK.js";import"./RovingFocusGroup-BAQMVA2P.js";import"./useForwardExpose-B_D4EoIC.js";import"./index-DRPMKLPy.js";import"./createLucideIcon-Dqvgc3pD.js";import"./index-ueziRkVZ.js";import"./index-CPB1U3Gd.js";import"./VisuallyHidden-Cm9f6LED.js";const A={class:"space-y-4 p-4"},B={class:"flex items-center justify-between"},F={class:"rounded-xl border border-border bg-card p-4"},I={class:"overflow-x-auto"},N={class:"w-full min-w-[960px] text-sm"},z={class:"px-2 py-2"},E={class:"px-2 py-2"},j={class:"px-2 py-2"},q={class:"px-2 py-2"},L={class:"px-2 py-2"},O={class:"px-2 py-2"},T=["href"],re=V({__name:"Index",props:{courses:{},search:{}},setup(v){const u=d(v.search),n=d(!1),i=d(null),p=d(!1),g=()=>{y.get("/admin/courses",{search:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},C=x=>{i.value=x,n.value=!0},w=()=>{i.value!==null&&(p.value=!0,y.delete(`/admin/courses/${i.value}`,{preserveScroll:!0,onFinish:()=>{p.value=!1,n.value=!1,i.value=null}}))};return(x,s)=>(_(),m(b,null,[r(o(D),{title:"Courses"}),r(S,null,{default:l(()=>[e("div",A,[e("div",B,[s[3]||(s[3]=e("h1",{class:"text-2xl font-semibold"},"Courses",-1)),r(o(h),{href:"/admin/courses/create"},{default:l(()=>[r(o(c),null,{default:l(()=>[...s[2]||(s[2]=[f("Create Course",-1)])]),_:1})]),_:1})]),r(o(k),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),placeholder:"Search courses...",onInput:g},null,8,["modelValue"]),e("div",F,[e("div",I,[e("table",N,[s[6]||(s[6]=e("thead",null,[e("tr",{class:"border-b border-border text-left"},[e("th",{class:"px-2 py-2"},"Course"),e("th",{class:"px-2 py-2"},"University"),e("th",{class:"px-2 py-2"},"Year"),e("th",{class:"px-2 py-2"},"Slug"),e("th",{class:"px-2 py-2"},"Admin"),e("th",{class:"px-2 py-2"},"Actions")])],-1)),e("tbody",null,[(_(!0),m(b,null,U(v.courses.data,t=>(_(),m("tr",{key:t.id,class:"border-b border-border/50"},[e("td",z,a(t.name)+" ("+a(t.short_name)+") ",1),e("td",E,a(t.university?.name),1),e("td",j,a(t.year),1),e("td",q,a(t.slug),1),e("td",L,a(t.admin?.name??"â€”"),1),e("td",O,[r(o(h),{href:`/admin/courses/${t.id}/edit`},{default:l(()=>[r(o(c),{variant:"outline",size:"sm"},{default:l(()=>[...s[4]||(s[4]=[f("Edit",-1)])]),_:1})]),_:1},8,["href"]),e("a",{href:`/courses/${t.slug}`,target:"_blank",rel:"noopener noreferrer",class:"ml-2 inline-flex h-8 items-center rounded-md border border-border px-3 text-xs hover:bg-accent"}," View ",8,T),r(o(c),{variant:"destructive",size:"sm",class:"ml-2",onClick:G=>C(t.id)},{default:l(()=>[...s[5]||(s[5]=[f(" Delete ",-1)])]),_:1},8,["onClick"])])]))),128))])])])])]),r($,{open:n.value,title:"Delete Course",description:"Are you sure you want to delete this course? Users assigned to it will have their course cleared.","confirm-text":"Delete",processing:p.value,"onUpdate:open":s[1]||(s[1]=t=>n.value=t),onConfirm:w},null,8,["open","processing"])]),_:1})],64))}});export{re as default};
