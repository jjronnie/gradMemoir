import{_ as S,a as N,b as V,c as F,d as I,e as U}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-ghQ8lCcE.js";import{_ as g}from"./LoadingButton.vue_vue_type_script_setup_true_lang-CFsavXG6.js";import{_ as z}from"./FlashMessages.vue_vue_type_script_setup_true_lang-Bfj-M2-J.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-D60ySLUZ.js";import{d as R,c as p,a,u as r,h as q,w as i,b as t,o as d,F as b,r as E,t as n,e as o,f as c,g as m,i as w}from"./app-Xw8PJXQX.js";import"./useForwardPropsEmits-C8m6eQjK.js";import"./RovingFocusGroup-BAQMVA2P.js";import"./useForwardExpose-B_D4EoIC.js";import"./index-DRPMKLPy.js";import"./createLucideIcon-Dqvgc3pD.js";import"./index-ueziRkVZ.js";import"./Spinner.vue_vue_type_script_setup_true_lang-DhH_KxvP.js";import"./index-CPB1U3Gd.js";import"./VisuallyHidden-Cm9f6LED.js";const O={class:"space-y-4 p-4"},Y={class:"rounded-xl border border-border bg-card p-4"},L={class:"overflow-x-auto"},M={class:"w-full min-w-[900px] text-sm"},P={class:"px-2 py-2"},T={class:"px-2 py-2"},j={class:"px-2 py-2"},G={class:"px-2 py-2"},H={class:"px-2 py-2"},J={class:"px-2 py-2"},K={key:0,class:"space-y-2 text-sm"},Q={key:0},W={key:1,class:"mt-4 flex flex-wrap gap-2"},me=R({__name:"Index",props:{applications:{}},setup($){const s=m(null),f=m(!1),_=m(null),x=m(null),y=m(!1),v=m(null),k=u=>{s.value=u,f.value=!0},A=u=>{_.value=u,w.put(`/admin/applications/${u}`,{status:"reviewed"},{preserveScroll:!0,onFinish:()=>{_.value=null}})},C=u=>{v.value=u,y.value=!0},D=()=>{v.value!==null&&(x.value=v.value,w.delete(`/admin/applications/${v.value}`,{preserveScroll:!0,onFinish:()=>{x.value=null,v.value=null,y.value=!1,f.value=!1}}))};return(u,e)=>(d(),p(b,null,[a(r(q),{title:"Applications"}),a(B,null,{default:i(()=>[t("div",O,[e[18]||(e[18]=t("h1",{class:"text-2xl font-semibold"},"Course Applications",-1)),t("div",Y,[t("div",L,[t("table",M,[e[5]||(e[5]=t("thead",null,[t("tr",{class:"border-b border-border text-left"},[t("th",{class:"px-2 py-2"},"Applicant"),t("th",{class:"px-2 py-2"},"University"),t("th",{class:"px-2 py-2"},"Course"),t("th",{class:"px-2 py-2"},"Year"),t("th",{class:"px-2 py-2"},"Status"),t("th",{class:"px-2 py-2"},"Actions")])],-1)),t("tbody",null,[(d(!0),p(b,null,E($.applications.data,l=>(d(),p("tr",{key:l.id,class:"border-b border-border/60"},[t("td",P,n(l.applicant_name),1),t("td",T,n(l.university_name),1),t("td",j,n(l.course_name),1),t("td",G,n(l.year),1),t("td",H,n(l.status),1),t("td",J,[a(r(z),{type:"button",size:"sm",variant:"outline",onClick:X=>k(l)},{default:i(()=>[...e[4]||(e[4]=[o(" View ",-1)])]),_:1},8,["onClick"])])]))),128))])])])]),a(r(S),{open:f.value,"onUpdate:open":e[2]||(e[2]=l=>f.value=l)},{default:i(()=>[a(r(N),{class:"max-h-[88vh] max-w-xl overflow-y-auto"},{default:i(()=>[a(r(V),null,{default:i(()=>[a(r(F),null,{default:i(()=>[...e[6]||(e[6]=[o("Application Details",-1)])]),_:1}),a(r(I),null,{default:i(()=>[...e[7]||(e[7]=[o(" Review and moderate this request. ",-1)])]),_:1})]),_:1}),s.value?(d(),p("div",K,[t("p",null,[e[8]||(e[8]=t("span",{class:"text-muted-foreground"},"Applicant:",-1)),o(" "+n(s.value.applicant_name),1)]),t("p",null,[e[9]||(e[9]=t("span",{class:"text-muted-foreground"},"Email:",-1)),o(" "+n(s.value.email),1)]),t("p",null,[e[10]||(e[10]=t("span",{class:"text-muted-foreground"},"Phone:",-1)),o(" "+n(s.value.phone),1)]),t("p",null,[e[11]||(e[11]=t("span",{class:"text-muted-foreground"},"University:",-1)),o(" "+n(s.value.university_name),1)]),t("p",null,[e[12]||(e[12]=t("span",{class:"text-muted-foreground"},"Course:",-1)),o(" "+n(s.value.course_name),1)]),t("p",null,[e[13]||(e[13]=t("span",{class:"text-muted-foreground"},"Year:",-1)),o(" "+n(s.value.year),1)]),t("p",null,[e[14]||(e[14]=t("span",{class:"text-muted-foreground"},"Status:",-1)),o(" "+n(s.value.status),1)]),s.value.notes?(d(),p("p",Q,[e[15]||(e[15]=t("span",{class:"text-muted-foreground"},"Notes:",-1)),o(" "+n(s.value.notes),1)])):c("",!0)])):c("",!0),s.value?(d(),p("div",W,[a(g,{type:"button",size:"sm",variant:"outline",loading:_.value===s.value.id,"loading-text":"Saving...",onClick:e[0]||(e[0]=l=>A(s.value.id))},{default:i(()=>[...e[16]||(e[16]=[o(" Mark Reviewed ",-1)])]),_:1},8,["loading"]),a(g,{type:"button",size:"sm",variant:"destructive",loading:x.value===s.value.id,"loading-text":"Deleting...",onClick:e[1]||(e[1]=l=>C(s.value.id))},{default:i(()=>[...e[17]||(e[17]=[o(" Delete ",-1)])]),_:1},8,["loading"])])):c("",!0)]),_:1})]),_:1},8,["open"]),a(U,{open:y.value,title:"Delete Application",description:"Are you sure you want to delete this application?","confirm-text":"Delete",processing:x.value!==null,"onUpdate:open":e[3]||(e[3]=l=>y.value=l),onConfirm:D},null,8,["open","processing"])])]),_:1})],64))}});export{me as default};
