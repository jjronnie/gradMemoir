import{_ as S}from"./ConfirmActionModal.vue_vue_type_script_setup_true_lang-DJqPOgVe.js";import{_ as g}from"./LoadingButton.vue_vue_type_script_setup_true_lang-BZdzqf8S.js";import{_ as N}from"./index-2UITHzBk.js";import{_ as V,a as F,b as I,c as U}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CoMOJCAU.js";import{_ as z}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Bixz7yX9.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkC7_KcU.js";import{d as R,c as p,a,u,h as q,w as r,b as t,o as d,F as b,r as E,t as o,e as n,f as c,g as m,i as w}from"./app-C4RxZQeq.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-TdVNFi_n.js";import"./Spinner.vue_vue_type_script_setup_true_lang-CzuqRdQf.js";import"./createLucideIcon-CIIjH0AZ.js";import"./useForwardPropsEmits-VfW6L23Z.js";import"./x-BuNzBGro.js";import"./useForwardExpose-CwMYFS2I.js";import"./Presence-C6NHUOAT.js";import"./index-CQCdNE30.js";import"./index-Cv2cN02m.js";import"./VisuallyHidden-BekQp5so.js";import"./index-Dgh_0kKE.js";import"./BottomNav.vue_vue_type_script_setup_true_lang-DN7C7JYV.js";const O={class:"space-y-4 p-4"},Y={class:"rounded-xl border border-border bg-card p-4"},L={class:"overflow-x-auto"},M={class:"w-full min-w-[900px] text-sm"},P={class:"px-2 py-2"},T={class:"px-2 py-2"},j={class:"px-2 py-2"},G={class:"px-2 py-2"},H={class:"px-2 py-2"},J={class:"px-2 py-2"},K={key:0,class:"space-y-2 text-sm"},Q={key:0},W={key:1,class:"mt-4 flex flex-wrap gap-2"},ye=R({__name:"Index",props:{applications:{}},setup($){const s=m(null),f=m(!1),y=m(null),x=m(null),_=m(!1),v=m(null),k=i=>{s.value=i,f.value=!0},A=i=>{y.value=i,w.put(`/admin/applications/${i}`,{status:"reviewed"},{preserveScroll:!0,onFinish:()=>{y.value=null}})},C=i=>{v.value=i,_.value=!0},D=()=>{v.value!==null&&(x.value=v.value,w.delete(`/admin/applications/${v.value}`,{preserveScroll:!0,onFinish:()=>{x.value=null,v.value=null,_.value=!1,f.value=!1}}))};return(i,e)=>(d(),p(b,null,[a(u(q),{title:"Applications"}),a(B,null,{default:r(()=>[t("div",O,[e[18]||(e[18]=t("h1",{class:"text-2xl font-semibold"},"Course Applications",-1)),t("div",Y,[t("div",L,[t("table",M,[e[5]||(e[5]=t("thead",null,[t("tr",{class:"border-b border-border text-left"},[t("th",{class:"px-2 py-2"},"Applicant"),t("th",{class:"px-2 py-2"},"University"),t("th",{class:"px-2 py-2"},"Course"),t("th",{class:"px-2 py-2"},"Year"),t("th",{class:"px-2 py-2"},"Status"),t("th",{class:"px-2 py-2"},"Actions")])],-1)),t("tbody",null,[(d(!0),p(b,null,E($.applications.data,l=>(d(),p("tr",{key:l.id,class:"border-b border-border/60"},[t("td",P,o(l.applicant_name),1),t("td",T,o(l.university_name),1),t("td",j,o(l.course_name),1),t("td",G,o(l.year),1),t("td",H,o(l.status),1),t("td",J,[a(u(N),{type:"button",size:"sm",variant:"outline",onClick:X=>k(l)},{default:r(()=>[...e[4]||(e[4]=[n(" View ",-1)])]),_:1},8,["onClick"])])]))),128))])])])]),a(u(V),{open:f.value,"onUpdate:open":e[2]||(e[2]=l=>f.value=l)},{default:r(()=>[a(u(F),{class:"max-h-[88vh] max-w-xl overflow-y-auto"},{default:r(()=>[a(u(I),null,{default:r(()=>[a(u(U),null,{default:r(()=>[...e[6]||(e[6]=[n("Application Details",-1)])]),_:1}),a(u(z),null,{default:r(()=>[...e[7]||(e[7]=[n(" Review and moderate this request. ",-1)])]),_:1})]),_:1}),s.value?(d(),p("div",K,[t("p",null,[e[8]||(e[8]=t("span",{class:"text-muted-foreground"},"Applicant:",-1)),n(" "+o(s.value.applicant_name),1)]),t("p",null,[e[9]||(e[9]=t("span",{class:"text-muted-foreground"},"Email:",-1)),n(" "+o(s.value.email),1)]),t("p",null,[e[10]||(e[10]=t("span",{class:"text-muted-foreground"},"Phone:",-1)),n(" "+o(s.value.phone),1)]),t("p",null,[e[11]||(e[11]=t("span",{class:"text-muted-foreground"},"University:",-1)),n(" "+o(s.value.university_name),1)]),t("p",null,[e[12]||(e[12]=t("span",{class:"text-muted-foreground"},"Course:",-1)),n(" "+o(s.value.course_name),1)]),t("p",null,[e[13]||(e[13]=t("span",{class:"text-muted-foreground"},"Year:",-1)),n(" "+o(s.value.year),1)]),t("p",null,[e[14]||(e[14]=t("span",{class:"text-muted-foreground"},"Status:",-1)),n(" "+o(s.value.status),1)]),s.value.notes?(d(),p("p",Q,[e[15]||(e[15]=t("span",{class:"text-muted-foreground"},"Notes:",-1)),n(" "+o(s.value.notes),1)])):c("",!0)])):c("",!0),s.value?(d(),p("div",W,[a(g,{type:"button",size:"sm",variant:"outline",loading:y.value===s.value.id,"loading-text":"Saving...",onClick:e[0]||(e[0]=l=>A(s.value.id))},{default:r(()=>[...e[16]||(e[16]=[n(" Mark Reviewed ",-1)])]),_:1},8,["loading"]),a(g,{type:"button",size:"sm",variant:"destructive",loading:x.value===s.value.id,"loading-text":"Deleting...",onClick:e[1]||(e[1]=l=>C(s.value.id))},{default:r(()=>[...e[17]||(e[17]=[n(" Delete ",-1)])]),_:1},8,["loading"])])):c("",!0)]),_:1})]),_:1},8,["open"]),a(S,{open:_.value,title:"Delete Application",description:"Are you sure you want to delete this application?","confirm-text":"Delete",processing:x.value!==null,"onUpdate:open":e[3]||(e[3]=l=>_.value=l),onConfirm:D},null,8,["open","processing"])])]),_:1})],64))}});export{ye as default};
