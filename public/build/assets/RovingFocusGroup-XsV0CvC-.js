import{a7 as U,aa as $,g as h,x as S,ab as G,q as C,B as V,G as K,d as N,P as D,M,a5 as Y,O as z,ac as W,o as H,p as J,w as O,a as Q,u as T,H as X}from"./app-a-DHXOwM.js";import{r as Z,S as R,P as ee}from"./FlashMessages.vue_vue_type_script_setup_true_lang-C874Aq3G.js";import{j as te,i as ne,b as j,d as oe}from"./useForwardExpose-BrydD-LM.js";function L(e,t){const i=typeof e=="string"&&!t?`${e}Context`:t,n=Symbol(i);return[u=>{const d=U(n,u);if(d||d===null)return d;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},u=>($(n,u),u)]}function _(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Ee(e){return e==null}const[ae]=L("ConfigProvider");function re(e){const t=ae({dir:h("ltr")});return S(()=>e?.value||t.dir?.value||"ltr")}function ye(e,t="reka"){return`${t}-${G?.()}`}function ie(e,t){const i=h(e);function n(f){return t[i.value][f]??i.value}return{state:i,dispatch:f=>{i.value=n(f)}}}function se(e,t){const i=h({}),n=h("none"),s=h(e),f=e.value?"mounted":"unmounted";let u;const d=t.value?.ownerDocument.defaultView??te,{state:p,dispatch:l}=ie(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),o=a=>{if(ne){const r=new CustomEvent(a,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(r)}};C(e,async(a,r)=>{const A=r!==a;if(await V(),A){const y=n.value,g=b(t.value);a?(l("MOUNT"),o("enter"),g==="none"&&o("after-enter")):g==="none"||g==="undefined"||i.value?.display==="none"?(l("UNMOUNT"),o("leave"),o("after-leave")):r&&y!==g?(l("ANIMATION_OUT"),o("leave")):(l("UNMOUNT"),o("after-leave"))}},{immediate:!0});const c=a=>{const r=b(t.value),A=r.includes(CSS.escape(a.animationName)),y=p.value==="mounted"?"enter":"leave";if(a.target===t.value&&A&&(o(`after-${y}`),l("ANIMATION_END"),!s.value)){const g=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",u=d?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=g)})}a.target===t.value&&r==="none"&&l("ANIMATION_END")},m=a=>{a.target===t.value&&(n.value=b(t.value))},E=C(t,(a,r)=>{a?(i.value=getComputedStyle(a),a.addEventListener("animationstart",m),a.addEventListener("animationcancel",c),a.addEventListener("animationend",c)):(l("ANIMATION_END"),u!==void 0&&d?.clearTimeout(u),r?.removeEventListener("animationstart",m),r?.removeEventListener("animationcancel",c),r?.removeEventListener("animationend",c))},{immediate:!0}),v=C(p,()=>{const a=b(t.value);n.value=p.value==="mounted"?a:"none"});return K(()=>{E(),v()}),{isPresent:S(()=>["mounted","unmountSuspended"].includes(p.value))}}function b(e){return e&&getComputedStyle(e).animationName||"none"}var we=N({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:i}){const{present:n,forceMount:s}=D(e),f=h(),{isPresent:u}=se(n,f);i({present:u});let d=t.default({present:u.value});d=Z(d||[]);const p=Y();if(d&&d?.length>1){const l=p?.parent?.type.name?`<${p.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${l}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(o=>`  - ${o}`).join(`
`)].join(`
`))}return()=>s.value||n.value||u.value?M(t.default({present:u.value})[0],{ref:l=>{const o=j(l);return typeof o?.hasAttribute>"u"||(o?.hasAttribute("data-reka-popper-content-wrapper")?f.value=o.firstElementChild:f.value=o),o}}):null}});function x(){const e=h(),t=S(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:j(e));return{primitiveElement:e,currentElement:t}}const P="data-reka-collection-item";function ue(e={}){const{key:t="",isProvider:i=!1}=e,n=`${t}CollectionProvider`;let s;if(i){const o=h(new Map);s={collectionRef:h(),itemMap:o},$(n,s)}else s=U(n);const f=(o=!1)=>{const c=s.collectionRef.value;if(!c)return[];const m=Array.from(c.querySelectorAll(`[${P}]`)),v=Array.from(s.itemMap.value.values()).sort((I,a)=>m.indexOf(I.ref)-m.indexOf(a.ref));return o?v:v.filter(I=>I.ref.dataset.disabled!=="")},u=N({name:"CollectionSlot",inheritAttrs:!1,setup(o,{slots:c,attrs:m}){const{primitiveElement:E,currentElement:v}=x();return C(v,()=>{s.collectionRef.value=v.value}),()=>M(R,{ref:E,...m},c)}}),d=N({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(o,{slots:c,attrs:m}){const{primitiveElement:E,currentElement:v}=x();return z(I=>{if(v.value){const a=W(v.value);s.itemMap.value.set(a,{ref:v.value,value:o.value}),I(()=>s.itemMap.value.delete(a))}}),()=>M(R,{...m,[P]:"",ref:E},c)}}),p=S(()=>Array.from(s.itemMap.value.values())),l=S(()=>s.itemMap.value.size);return{getItems:f,reactiveItems:p,itemMapSize:l,CollectionSlot:u,CollectionItem:d}}const le="rovingFocusGroup.onEntryFocus",ce={bubbles:!1,cancelable:!0},de={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ie(e,t,i){const n=fe(e.key,i);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return de[n]}function me(e,t=!1){const i=_();for(const n of e)if(n===i||(n.focus({preventScroll:t}),_()!==i))return}function Se(e,t){return e.map((i,n)=>e[(t+n)%e.length])}const[Te,ve]=L("RovingFocusGroup");var pe=N({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:i}){const n=e,s=i,{loop:f,orientation:u,dir:d}=D(n),p=re(d),l=oe(n,"currentTabStopId",s,{defaultValue:n.defaultCurrentTabStopId,passive:n.currentTabStopId===void 0}),o=h(!1),c=h(!1),m=h(0),{getItems:E,CollectionSlot:v}=ue({isProvider:!0});function I(r){const A=!c.value;if(r.currentTarget&&r.target===r.currentTarget&&A&&!o.value){const y=new CustomEvent(le,ce);if(r.currentTarget.dispatchEvent(y),s("entryFocus",y),!y.defaultPrevented){const g=E().map(w=>w.ref).filter(w=>w.dataset.disabled!==""),F=g.find(w=>w.getAttribute("data-active")===""),k=g.find(w=>w.getAttribute("data-highlighted")===""),q=g.find(w=>w.id===l.value),B=[F,k,q,...g].filter(Boolean);me(B,n.preventScrollOnEntryFocus)}}c.value=!1}function a(){setTimeout(()=>{c.value=!1},1)}return t({getItems:E}),ve({loop:f,dir:p,orientation:u,currentTabStopId:l,onItemFocus:r=>{l.value=r},onItemShiftTab:()=>{o.value=!0},onFocusableItemAdd:()=>{m.value++},onFocusableItemRemove:()=>{m.value--}}),(r,A)=>(H(),J(T(v),null,{default:O(()=>[Q(T(ee),{tabindex:o.value||m.value===0?-1:0,"data-orientation":T(u),as:r.as,"as-child":r.asChild,dir:T(p),style:{outline:"none"},onMousedown:A[0]||(A[0]=y=>c.value=!0),onMouseup:a,onFocus:I,onBlur:A[1]||(A[1]=y=>o.value=!1)},{default:O(()=>[X(r.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),be=pe;export{we as P,be as R,Ee as a,re as b,L as c,ue as d,Te as e,Ie as f,_ as g,me as h,ae as i,x as j,ye as u,Se as w};
